# Tech Stack Document

## 1. Overview

This document defines the technology stack for the Decentralized Geospatial Location Proof API. We have chosen contemporary, stable, and industry-standard technologies to ensure rapid development, scalability, and maintainability. All decisions have been made to provide a cohesive, world-class solution.

---

## 2. Core Components

### 2.1. Programming Language
- **Python 3.11**
  Chosen for its modern features, performance improvements, and wide community support.

### 2.2. Web Framework
- **FastAPI**
  Provides high performance, asynchronous support, automatic OpenAPI generation, and built-in data validation with Pydantic.

### 2.3. ASGI Server
- **Uvicorn**
  A production-ready ASGI server that pairs seamlessly with FastAPI for lightning-fast performance.

---

## 3. Data Storage & Geospatial Support

### 3.1. Database
- **PostgreSQL**
  A robust and widely adopted relational database.

### 3.2. Geospatial Extension
- **PostGIS**
  An extension for PostgreSQL that provides advanced spatial data types and functions for efficient geospatial queries.

---

## 4. Containerization & Deployment

### 4.1. Containerization
- **Docker**
  Ensures consistency across development, testing, and production environments, while simplifying dependency management and deployment.

### 4.2. Cloud Infrastructure
- **AWS**
  - **Managed PostgreSQL with PostGIS:** Utilize AWS RDS for PostgreSQL configured with PostGIS.
  - **Container Orchestration:** Deploy the FastAPI service on AWS ECS using Fargate for cost-effective, serverless container management.

### 4.3. CI/CD Pipeline
- **GitHub Actions**
  Automates testing, type-checking, linting, and deployment processes upon merging to the production branch.

---

## 5. API Compliance & Proxy Layer

### 5.1. REST API & OGC API – Features Compliance
- Our REST API will strictly adhere to OGC API – Features compliance standards, with dedicated endpoints like `/collections` and `/collections/{collectionId}/items`.

### 5.2. GraphQL Proxy
- **Ariadne**
  Provides a lightweight and robust GraphQL implementation to proxy queries and mutations to the underlying REST API.

---

## 6. Testing, Code Quality & Documentation

### 6.1. Testing Framework
- **pytest**
  Employed for unit and integration testing to ensure code robustness and maintainability.

### 6.2. Type Checking & Linting
- **mypy** for static type-checking.
- **Black** for code formatting, paired with isort and Flake8 for import organization and linting, respectively.
  (These tools are integrated via pre-commit hooks and within our CI/CD pipeline.)

### 6.3. Documentation
- **MkDocs**
  Chosen as the documentation tool for its simplicity and ease of generating clear, static documentation from Markdown files.
- **OpenAPI/Swagger Documentation**
  Automatically generated by FastAPI for REST endpoints, ensuring up-to-date API documentation.

---

## 7. Additional Tools

### 7.1. Web3 Integration
- **web3.py**
  Used for Ethereum blockchain interactions, facilitating the "Sign in with Ethereum" process and managing on-chain attestations.

### 7.2. Logging & Monitoring
- **Python’s standard logging library** (configured for structured logging)
  Integrated with AWS CloudWatch for centralized logging and monitoring.

---

## 8. Summary

This tech stack leverages Python 3.11, FastAPI, and AWS-managed PostgreSQL with PostGIS to build a high-performance, scalable, and maintainable API for decentralized geospatial applications. The choice of Docker for containerization, GitHub Actions for CI/CD, Black for formatting, and MkDocs for documentation aligns with industry standards to ensure a seamless development and deployment process.
